---
title: 2018-10-12C++ 学习4 类
梁子，20163933
2273067585@qq.com
---
> 从现在开始，进入C++ 中面向对象的学习部分。

# 数据抽象
数据抽象可以帮助我们将对象的*具体实现*与对象*所能执行的操作*分离开。我们首先去考虑一个对象应该具有什么样的结构、什么样的功能，而我们又需要对该对象进行如何如何的操作，之后才是对每一个对象进行具体的实体化。
# 类
类的基本思想便是**数据抽象（data abstraction）**和**封装（encapsulation）**。数据抽象依赖于接口（interface）和封装（implementation）。
再进行类的设计时，首先要考虑如何定义抽象数据类型。我们从一个例子来开始进行介绍。
## 定义抽象数据类型
### 成员函数（member function）
成员函数即类中将要对对象进行一系列操作的函数，

成员函数的声明必须在类的内部，但是其定义既可以位于类的内部也可以位于类的外部。而作为接口组成部分的非成员函数，其定义和声明都位于类的外部。
对于成员函数，一般的调用方式为：
```c++
duixiang.memberfunction();
```
这说明我们在调用成员函数时，多是针对对象的某一些属性在操作。
### 类相关的非成员函数
略。给出一段代码以展现IO流作为参数的特殊性（只能被引用，不能被拷贝）
```c++
istream &read(istream &is, Sales_data &item)
{
		double price=0;
		is>>item.bookNo>>item.units_sold>>price;
		item.revenue=price*item.units_sold;
		return is;
}
```
### 构造函数（constructor）
构造函数的任务是初始化类对象的数据成员。
1. 构造函数的名字和类型相同。
2. 构造函数没有返回类型。
3. 构造函数也有一个（可能为空）的参数列表和一个可能为空的函数体。
4. 一个类可以有多个构造函数用于重载。
5. 如若没有人工写构造函数，系统将会自动写一个构造函数，称为默认构造函数（default constructor）。
6. C++11中可以使用‘=default’语句来进行对某一个类的默认构造函数，比如```classname()=default;```

下面给出一段例子，来说明构造函数的具体用法：
```c++
class Sales_data{
//新增的构造函数
Sale_data()=default;
Sale_data(const std::string &s): bookNo(s) { }
Sale_data(const std::string &s, unsigned n, double p):
				bookNo(s), unit_sold(n),revenue(p*n) { }
Sales_data(std::istream &);

//之前已经存在的成员函数
std::string isbn()  const{return bookNo;}
Sale_data& conbine(const Sales_data&);
double avg_price() const;

std::string bookNo;
unsigned units_sold=0;
double revenue=0.0;
};

```

